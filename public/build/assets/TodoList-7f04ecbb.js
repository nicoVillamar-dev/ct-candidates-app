import{x as l,h as D,l as V,k as x,o as n,f as r,a as w,u as I,w as E,F as _,Z as M,b as e,i as C,B as T,t as g,n as N,C as F}from"./app-94306334.js";import{_ as O}from"./AuthenticatedLayout-b54a6b00.js";import{A as P}from"./Api-52983ec0.js";import"./ApplicationLogo-080053e0.js";import"./_plugin-vue_export-helper-c27b6911.js";const R=localStorage.getItem("token"),m=new P(R),U=async o=>{try{return(await m.http.post("tasks",{title:o,fulfilled:!1})).data}catch{}},z=async()=>{try{return(await m.http.get("tasks")).data}catch{}},X=async o=>{try{return(await m.http.put(`tasks/${o}/complete`)).data}catch{}},Z=async o=>{try{return(await m.http.delete(`tasks/${o}`)).data}catch{}},q={key:0,class:"flex items-center justify-center h-screen"},G=e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-2 border-blue-500 border-4"},null,-1),H=[G],J={key:1,class:"flex items-center justify-center h-full"},K={class:"card p-6 w-full max-w-md"},Q={class:"flex mb-4"},W={class:"flex mb-4"},Y=["disabled"],ee={class:"flex items-center justify-between border rounded-md p-3"},te=["onClick"],se=["onClick"],ae={class:"card p-6 w-full max-w-md"},le=e("div",{class:"flex mb-4 items-center justify-center"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Completed tasks")],-1),oe={class:"flex bg-green-300 items-center justify-center border rounded-md p-3"},pe={__name:"TodoList",setup(o){const a=l(""),v=l([]),b=l([]),c=l(""),h=l([]),y=l(!1),u=l(!0),p=l(!0),k=l(!0),S=D(()=>b.value.filter(s=>{const d=s.title.toLowerCase(),B=a.value.toLowerCase();return d.includes(B)}).sort((s,d)=>u.value?s.title.localeCompare(d.title):d.title.localeCompare(s.title))),j=()=>{u.value=!u.value},L=async t=>{await Z(t),f()},$=async t=>{await X(t)&&f()},A=async()=>{c.value!=""&&await U(c.value)&&(c.value="",f())},f=async()=>{v.value=await z(),b.value=v.value.filter(t=>!t.fulfilled),h.value=v.value.filter(t=>t.fulfilled)};return V(async()=>{const t=localStorage.getItem("pageReloaded");k.value=!0,t=="false"?setTimeout(()=>{location.reload(),localStorage.setItem("pageReloaded",!0)},3e3):(f(),k.value=!1)}),x(h,t=>{t.length>0?y.value=!0:y.value=!1}),x(c,t=>{t!=""?p.value=!1:p.value=!0}),(t,i)=>(n(),r(_,null,[w(I(M),{title:"TodoList"}),w(O,null,{default:E(()=>[k.value?(n(),r("div",q,H)):(n(),r("div",J,[e("div",K,[e("div",Q,[C(e("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=s=>a.value=s),placeholder:"Search task...",class:"flex-1 px-4 py-2 border rounded-md mr-2"},null,512),[[T,a.value]]),e("button",{onClick:j,class:"px-4 py-2 bg-blue-600 text-white rounded-md"},g(u.value?"Ascending order":"Descending order"),1)]),e("div",W,[C(e("input",{type:"text","onUpdate:modelValue":i[1]||(i[1]=s=>c.value=s),placeholder:"Add task...",class:"flex-1 px-4 py-2 border rounded-md mr-2"},null,512),[[T,c.value]]),e("button",{onClick:A,disabled:p.value,class:N(["px-4 py-2 bg-blue-600 text-white rounded-md",{"opacity-50 cursor-not-allowed":p.value}])}," Create ",10,Y)]),e("ul",null,[(n(!0),r(_,null,F(S.value,s=>(n(),r("li",{key:s.id,class:"mb-2"},[e("div",ee,[e("span",null,g(s.title),1),e("div",null,[e("button",{onClick:d=>$(s.id),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-4 mr-2 rounded"},"âœ“",8,te),e("button",{onClick:d=>L(s.id),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-4 rounded"},"X",8,se)])])]))),128))])]),e("div",ae,[le,e("ul",null,[(n(!0),r(_,null,F(h.value,s=>(n(),r("li",{key:s.id,class:"mb-2"},[e("div",oe,[e("span",null,g(s.title),1)])]))),128))])])]))]),_:1})],64))}};export{pe as default};
